Mesos comes with a framework written in Python that will run a web load balancer ([[HAProxy|http://haproxy.1wt.eu/]]) and use apache for the backend servers. The framework is in MESOS_HOME/frameworks/haproxy+apache. There is a README in that directory that might be slightly helpful, but we recommend looking a the framework scheduler and executor code to familiarize yourself with the concepts behind the framework.

We have also successfully used Amazon's Elastic Load Balancer instead of HAProxy. This is still in a non-master development branch called [[andyk-elb+apache-notorque|https://github.com/mesos/mesos/tree/andyk-elb+apache-notorque]]. You will need to set up a Mesos EC2 cluster and the framework uses python boto to connect to Amazon's CloudWatch and EC2 so you will need to create a credentials file for boto to be able to connect to those amazon services correctly from the node on which you run the framework.

HAProxy has this annoying artifact that in order to ramp up and down in the number of servers it is load balancing between it has to kill the existing running HAProxy process and start a new one, which inevitably leads to dropped connections. Some people have looked into ways to get around the dropped connections (see this animoto blog post about adding/removing servers to haproxy: http://labs.animoto.com/2010/03/10/uptime-with-haproxy/)